import{u as C,g as M}from"./helper-CI43SHyc.js";import{d as N,n as A,q as B,r as d,s as F,c as m,e as l,b as t,w as o,h as V,v as r,a,o as p,t as k,x as _,F as D,y as j}from"./index-Bcjkk3GI.js";const O={class:"pb-6 md:pb-3"},R={class:"card flex justify-content-center"},U={class:"font-medium text-xl md:text-4xl"},q={class:"mt-4"},E={class:"card shadow-1"},H={class:"flex justify-content-end"},K=l("i",{class:"pi pi-search"},null,-1),$=N({__name:"IndexView",setup(L){const f=C(),{t:c}=A(),h=B();let u=d();const b=d({icon:"pi pi-home"}),v=d([{label:c("labels.product",2)}]),P=[{field:"name",header:"Nom"},{field:"sku",header:"SKU"},{field:"barcode",header:"Barcode"},{field:"container",header:"Conteneur"},{field:"quantity",header:"Quantity"}],s=d({global:{value:null,matchMode:r.CONTAINS},name:{value:null,matchMode:r.CONTAINS},sku:{value:null,matchMode:r.STARTS_WITH},barcode:{value:null,matchMode:r.STARTS_WITH},categories:{value:null,matchMode:r.IN}});return F(async()=>{try{u.value=await f.getAll({itemsPerPage:-1,sortBy:["products.name"]})}catch(n){console.log(M(n)),h.add({severity:"error",summary:c("labels.error"),detail:n,life:3e3})}}),(n,i)=>{const g=a("PrimeBreadcrumb"),y=a("PrimeToolbar"),I=a("PrimeInputIcon"),T=a("PrimeInputText"),x=a("PrimeIconField"),S=a("PrimeColumn"),w=a("PrimeDataTable");return p(),m("div",O,[l("nav",null,[l("div",R,[t(g,{home:b.value,model:v.value,class:"w-full bg-transparent"},null,8,["home","model"])]),t(y,{class:"bg-transparent mt-1 border-none"},{start:o(()=>[l("span",U,k(n.$t("labels.productList")),1)]),_:1})]),l("div",q,[l("div",E,[t(w,{filters:s.value,"onUpdate:filters":i[1]||(i[1]=e=>s.value=e),value:V(u),stripedRows:"",sortMode:"multiple",filterDisplay:"row",globalFilterFields:["name","sku","barcode","categories","container"],paginator:"",removableSort:"",rows:10,rowsPerPageOptions:[5,10,20,50],tableStyle:"min-width: 50rem"},{header:o(()=>[l("div",H,[t(x,{iconPosition:"left"},{default:o(()=>[t(I,null,{default:o(()=>[K]),_:1}),t(T,{modelValue:s.value.global.value,"onUpdate:modelValue":i[0]||(i[0]=e=>s.value.global.value=e),placeholder:"Keyword Search"},null,8,["modelValue"])]),_:1})])]),empty:o(()=>[_(" Aucun matériel trouvé ")]),loading:o(()=>[_(" Chargement en cours... ")]),default:o(()=>[(p(),m(D,null,j(P,e=>t(S,{key:e.field,field:e.field,header:e.header,sortable:""},null,8,["field","header"])),64))]),_:1},8,["filters","value"])])])])}}});export{$ as default};
