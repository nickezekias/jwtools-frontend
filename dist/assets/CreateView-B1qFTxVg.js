import{d as j,B as I,q as S,E as U,r as l,g as D,H as L,c as A,e,b as a,w as E,t as r,m as _,I as g,y,a as i,o as M}from"./index-CQhSLsZn.js";import{u as q,g as z,_ as N}from"./container-Dlcg6IkU.js";import{u as H,p as R}from"./productTypes-1yo-x-6X.js";const F={class:"pb-6 md:pb-3"},G={class:"flex justify-content-center"},J={class:"font-medium text-xl md:text-4xl"},K={class:"mt-4"},O={class:"card"},Q={class:"grid"},W={class:"col-12 text-lg md:text-2xl font-regular mb-3"},X={class:"col-12 md:col-5"},Y={class:"col-12 md:col-7"},Z={class:"field text-base md:text-lg"},ee={for:"name"},oe={class:"formgrid grid"},te={class:"field col-12 md:col"},se={for:"sku"},le={class:"field col-12 md:col"},ae={for:"barcode"},re={class:"formgrid grid"},ne={class:"col-12 md:col-7 field text-base md:text-lg"},de={for:"name"},ce={class:"col-12 md:col-5 field text-base md:text-lg"},ie={for:"type"},ue={class:"col-12 mt-5"},me={class:"flex justify-content-end gap-4"},_e=j({__name:"CreateView",setup(pe){const u=q(),n=H(),h=I(),{t:d}=S(),x=U(),$=l({icon:"pi pi-home"}),V=l([{label:d("labels.product",2)},{label:d("labels.newProduct")}]),m=l(""),p=l(),b=l([]),c=l(),f=l(),v=l(),k=D(()=>({id:0,productAttributes:[],barcode:m.value,container:p.value,images:"",locale:"",name:c.value,parent:0,quantity:1,sku:f.value,slug:c.value.toLowerCase().replace(" ","-"),state:"",status:"",tags:[],type:v.value,warehouse:""}));L(async()=>{u.objects.length>0?b.value=u.objects:b.value=await u.getAll({itemsPerPage:-1,sortBy:["containers.name"]})});async function B(){n.setLoading(!0);try{const o=await n.create(k.value);o&&(x.add({severity:"success",summary:"Info",detail:d("app.features.product.create.successMessage"),life:3e3}),h.push(`/products?editId=${o.id}`),window.setTimeout(()=>{},3e3))}catch(o){x.add({severity:"error",summary:d("labels.error"),detail:z(o),life:1e4})}finally{n.setLoading(!1)}}return(o,t)=>{const C=i("PrimeBreadcrumb"),T=i("PrimeToolbar"),w=i("PrimeDropdown"),P=i("PrimeButton");return M(),A("div",F,[e("nav",null,[e("div",G,[a(C,{home:$.value,model:V.value,class:"w-full bg-transparent"},null,8,["home","model"])]),a(T,{class:"bg-transparent mt-1 border-none"},{start:E(()=>[e("span",J,r(o.$t("labels.newProduct")),1)]),_:1})]),e("div",K,[e("form",O,[e("section",Q,[e("div",W,r(o.$t("app.features.product.create.productInformation")),1),e("div",X,[a(N)]),e("div",Y,[e("div",Z,[e("label",ee,r(o.$t("labels.name")),1),_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),id:"name",type:"text",class:"text-color text-sm md:text-lg surface-overlay p-3 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,512),[[g,c.value]])]),e("div",oe,[e("div",te,[e("label",se,r(o.$t("labels.sku")),1),_(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>f.value=s),id:"sku",type:"text",class:"text-color text-sm md:text-lg surface-overlay p-3 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,512),[[g,f.value]])]),e("div",le,[e("label",ae,r(o.$t("labels.barcode")),1),_(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>m.value=s),id:"barcode",type:"text",class:"text-color text-sm md:text-lg surface-overlay p-3 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,512),[[g,m.value]])])]),e("div",re,[e("div",ne,[e("label",de,r(o.$t("labels.container")),1),a(w,{modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=s=>p.value=s),optionLabel:"name",optionValue:"sku",options:b.value,placeholder:o.$t("placeholders.selectContainer"),class:"w-full py-1"},null,8,["modelValue","options","placeholder"])]),e("div",ce,[e("label",ie,r(o.$t("labels.productType")),1),a(w,{modelValue:v.value,"onUpdate:modelValue":t[4]||(t[4]=s=>v.value=s),options:y(R),placeholder:o.$t("placeholders.selectProductType"),class:"w-full py-1"},null,8,["modelValue","options","placeholder"])])])]),e("div",ue,[e("div",me,[a(P,{onClick:t[5]||(t[5]=s=>y(h).push({name:"products.index"})),size:"large",severity:"secondary",label:o.$t("actions.cancel")},null,8,["label"]),a(P,{onClick:B,size:"large",label:o.$t("actions.save"),loading:y(n).loading},null,8,["label","loading"])])])])])])])}}});export{_e as default};
